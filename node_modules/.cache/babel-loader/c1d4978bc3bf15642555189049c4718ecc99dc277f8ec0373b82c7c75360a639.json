{"ast":null,"code":"import _slicedToArray from\"/Users/anatolijsostal/projects/tsa_planning/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState,useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext();export var useAuth=function useAuth(){return useContext(AuthContext);};export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(function(){var cookies=document.cookie.split(';');return cookies.some(function(cookie){return cookie.trim().startsWith('login=');});}),_useState2=_slicedToArray(_useState,2),isLoggedIn=_useState2[0],setIsLoggedIn=_useState2[1];var login=function login(){var expirationDate=new Date();expirationDate.setDate(expirationDate.getDate()+1);document.cookie=\"login=true; expires=\".concat(expirationDate,\"; path=/;\");setIsLoggedIn(true);};var logout=function logout(){var expirationDate=new Date();expirationDate.setFullYear(expirationDate.getFullYear()-1);document.cookie=\"login=; expires=\".concat(expirationDate.toUTCString(),\"; path=/;\");setIsLoggedIn(false);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:isLoggedIn,login:login,logout:logout},children:children});};","map":{"version":3,"names":["React","createContext","useState","useContext","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","_useState","cookies","document","cookie","split","some","trim","startsWith","_useState2","_slicedToArray","isLoggedIn","setIsLoggedIn","login","expirationDate","Date","setDate","getDate","concat","logout","setFullYear","getFullYear","toUTCString","Provider","value"],"sources":["/Users/anatolijsostal/projects/tsa_planning/src/components/AuthContext.jsx"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\n    const cookies = document.cookie.split(';');\n    return cookies.some(cookie => cookie.trim().startsWith('login='));\n  });\n\n  const login = () => {\n    const expirationDate = new Date();\n    expirationDate.setDate(expirationDate.getDate() + 1);\n    document.cookie = `login=true; expires=${expirationDate}; path=/;`;\n    setIsLoggedIn(true);\n  };\n\n  const logout = () => {\n    const expirationDate = new Date();\n    expirationDate.setFullYear(expirationDate.getFullYear() - 1);\n    document.cookie = `login=; expires=${expirationDate.toUTCString()}; path=/;`;\n    setIsLoggedIn(false);\n  };\n\n  return (\n    <AuthContext.Provider value={{ isLoggedIn, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"iIAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnE,GAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAEnC,MAAO,IAAM,CAAAM,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAC3B,MAAO,CAAAJ,UAAU,CAACG,WAAW,CAAC,CAChC,CAAC,CAED,MAAO,IAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACrC,IAAAC,SAAA,CAAoCT,QAAQ,CAAC,UAAM,CACjD,GAAM,CAAAU,OAAO,CAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAC1C,MAAO,CAAAH,OAAO,CAACI,IAAI,CAAC,SAAAF,MAAM,QAAI,CAAAA,MAAM,CAACG,IAAI,CAAC,CAAC,CAACC,UAAU,CAAC,QAAQ,CAAC,GAAC,CACnE,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAT,SAAA,IAHKU,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAKhC,GAAM,CAAAI,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,GAAM,CAAAC,cAAc,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACjCD,cAAc,CAACE,OAAO,CAACF,cAAc,CAACG,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CACpDd,QAAQ,CAACC,MAAM,wBAAAc,MAAA,CAA0BJ,cAAc,aAAW,CAClEF,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,GAAM,CAAAO,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnB,GAAM,CAAAL,cAAc,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACjCD,cAAc,CAACM,WAAW,CAACN,cAAc,CAACO,WAAW,CAAC,CAAC,CAAG,CAAC,CAAC,CAC5DlB,QAAQ,CAACC,MAAM,oBAAAc,MAAA,CAAsBJ,cAAc,CAACQ,WAAW,CAAC,CAAC,aAAW,CAC5EV,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,mBACEjB,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACC,KAAK,CAAE,CAAEb,UAAU,CAAVA,UAAU,CAAEE,KAAK,CAALA,KAAK,CAAEM,MAAM,CAANA,MAAO,CAAE,CAAAnB,QAAA,CACxDA,QAAQ,CACW,CAAC,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}